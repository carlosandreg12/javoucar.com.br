<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JávouCar - Sistema de Cadastro e Alertas</title>
    <link rel="stylesheet" href="styles.css">
    
    <!-- PWA Meta Tags -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#FF0000">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="JávouCar">
    <link rel="apple-touch-icon" href="assets/icon-192x192.png">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JávouCar - Sistema de Cadastro e Alertas</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header style="max-height: 170px; overflow: hidden;">
            <div class="logo" style="text-align: center; display: flex; flex-direction: column; align-items: center; padding: 5px 0; margin-top: -10px;">
                <img src="assets/logo.svg" alt="JávouCar Logo" style="width: 120px; height: 120px; filter: invert(8%) sepia(100%) saturate(6418%) hue-rotate(246deg) brightness(101%) contrast(143%);">
                <h1 style="color: #FF0000; margin-top: -2px; font-size: 24px; text-align: center; font-weight: bold; line-height: 1.2; padding-bottom: 5px;">JávouCar</h1>
            </div>
        </header>

        <main>
            <!-- Seção de Login -->
            <section id="loginSection" class="section">
                <h2>Login</h2>
                <form id="loginForm">
                    <input type="email" placeholder="E-mail" required>
                    <div class="password-field" style="position: relative; width: 100%;">
                        <input type="password" placeholder="Senha" required>
                        <button type="button" class="toggle-password" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer;">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z" fill="currentColor"/>
                            </svg>
                        </button>
                    </div>
                    <button type="submit" class="btn-primary">Entrar</button>
                </form>
                <p>Não tem uma conta? <a href="#" id="showRegister">Cadastre-se</a></p>
                <p>Esqueceu sua senha? <a href="#" id="showRecovery">Recuperar Senha</a></p>
            </section>

            <!-- Seção de Recuperação de Senha -->
            <section id="recoverySection" class="section hidden">
                <h2>Recuperação de Senha</h2>
                <form id="recoveryForm">
                    <input type="email" placeholder="E-mail" required>
                    <button type="submit" class="btn-primary">Enviar Link de Recuperação</button>
                </form>
                <p><a href="#" id="backToLogin">Voltar ao Login</a></p>
            </section>

            <!-- Seção de Cadastro de Usuário -->
            <section id="registerSection" class="section hidden">
                <h2>Cadastro de Usuário</h2>
                <form id="registerForm">
                    <input type="text" placeholder="Nome completo" required>
                    <input type="email" placeholder="E-mail" required>
                    <input type="tel" placeholder="Telefone" pattern="[0-9]{11}" required>
                    <div class="password-field" style="position: relative; width: 100%;">
                        <input type="password" placeholder="Senha" required>
                        <button type="button" class="toggle-password" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer;">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z" fill="currentColor"/>
                            </svg>
                        </button>
                    </div>
                    <div class="password-field" style="position: relative; width: 100%;">
                        <input type="password" placeholder="Confirmar senha" required>
                        <button type="button" class="toggle-password" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: none; border: none; cursor: pointer;">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z" fill="currentColor"/>
                            </svg>
                        </button>
                    </div>
                    <button type="submit" class="btn-primary">Cadastrar</button>
                </form>
            </section>

            <!-- Seção de Cadastro de Veículo -->
            <section id="vehicleSection" class="section hidden">
                <h2>Cadastro de Veículo</h2>
                <form id="vehicleForm">
                    <input type="text" placeholder="Placa" required>
                    <input type="text" placeholder="Modelo" required>
                    <input type="text" placeholder="Cor" required>
                    <select required>
                        <option value="">Selecione o Estado</option>
                        <option value="SP">São Paulo</option>
                        <!-- Outros estados serão adicionados via JavaScript -->
                    </select>
                    <button type="submit" class="btn-primary">Cadastrar Veículo</button>
                </form>
            </section>

            <!-- Sistema de Alertas -->
            <section id="alertSection" class="section hidden">
                <div class="header-actions">
                    <h2>Sistema de Alertas</h2>
                    <button id="logoutButton" class="btn-logout">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M17 7l-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z" fill="currentColor"/>
                        </svg>
                        Sair
                    </button>
                </div>
                <div class="alerts-container">
                    <div class="new-alert">
                        <h3>
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="vertical-align: middle; margin-right: 5px;">
                                <path d="M12 2L2 22H22L12 2Z" stroke="#000000" stroke-width="1.5" fill="#FFD700"/>
                                <path d="M12 2L2 22H22L12 2Z" stroke="#000000" stroke-width="1.5" fill="none"/>
                                <path d="M8 13.5H16M9 12.5H15M7.5 15.5H16.5" stroke="#000000" stroke-width="2" fill="none"/>
                                <path d="M8.5 15.5C8.5 15.5 8 13.5 9 13.5H15C16 13.5 15.5 15.5 15.5 15.5" stroke="#000000" stroke-width="2" fill="none"/>
                            </svg>
                            Novo Alerta
                        </h3>
                        <form id="alertForm">
                            <input type="text" id="vehiclePlate" placeholder="Digite a placa do veículo" pattern="[A-Za-z0-9]{7}" maxlength="7" required>
                            <textarea placeholder="Mensagem do alerta" required></textarea>
                            <button type="submit" class="btn-highlight">Enviar Alerta</button>
                        </form>
                    </div>
                    <div class="alerts-list">
                        <h3>
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="vertical-align: middle; margin-right: 5px;">
                                <path d="M12 2L2 22H22L12 2Z" stroke="#000000" stroke-width="1.5" fill="#FFD700"/>
                                <path d="M12 2L2 22H22L12 2Z" stroke="#000000" stroke-width="1.5" fill="none"/>
                                <path d="M8 13.5H16M9 12.5H15M7.5 15.5H16.5" stroke="#000000" stroke-width="2" fill="none"/>
                                <path d="M8.5 15.5C8.5 15.5 8 13.5 9 13.5H15C16 13.5 15.5 15.5 15.5 15.5" stroke="#000000" stroke-width="2" fill="none"/>
                            </svg>
                            Alertas Recebidos
                        </h3>
                        <div id="alertsList">
                            <!-- Template para mensagens de alerta -->
                            <div class="alert-message" style="display: none;">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="vertical-align: middle; margin-right: 5px;">
                                    <path d="M12 2L2 22H22L12 2Z" stroke="#000000" stroke-width="1.5" fill="#FFD700"/>
                                    <path d="M12 2L2 22H22L12 2Z" stroke="#000000" stroke-width="1.5" fill="none"/>
                                    <path d="M8 13.5H16M9 12.5H15M7.5 15.5H16.5" stroke="#000000" stroke-width="2" fill="none"/>
                                    <path d="M8.5 15.5C8.5 15.5 8 13.5 9 13.5H15C16 13.5 15.5 15.5 15.5 15.5" stroke="#000000" stroke-width="2" fill="none"/>
                                </svg>
                                <!-- As mensagens serão inseridas aqui dinamicamente -->
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>
    
    <!-- Modal de Alerta -->
    <div class="modal-overlay" id="modalOverlay"></div>
    <div class="alert-modal" id="alertModal">
        <div class="alert-modal-content">
            <div class="alert-modal-header">
                <svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2L2 22H22L12 2Z" stroke="currentColor" stroke-width="1.5" fill="currentColor"/>
                    <path d="M12 2L2 22H22L12 2Z" stroke="currentColor" stroke-width="1.5" fill="none"/>
                </svg>
                <h3>Alerta de Veículo</h3>
            </div>
            <div class="vehicle-details">
                <p><strong>Placa:</strong> <span id="modalPlaca"></span></p>
                <p><strong>Modelo:</strong> <span id="modalModelo"></span></p>
                <p><strong>Cor:</strong> <span id="modalCor"></span></p>
            </div>
            <div class="alert-message" id="modalMessage"></div>
            <button class="confirm-button" id="confirmAlert">Confirmar Recebimento</button>
        </div>
    </div>
    
    <script src="script.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then((registration) => {
                        console.log('ServiceWorker registrado com sucesso:', registration.scope);
                    })
                    .catch((error) => {
                        console.log('Falha ao registrar o ServiceWorker:', error);
                    });
            });
        }
    </script>
</body>
</html>